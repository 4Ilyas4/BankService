#   BankService

Микросервис, разработанный на платформе Spring Boot, предоставляет функциональность для управления финансовыми транзакциями. Он позволяет пользователям совершать транзакции, устанавливать месячные лимиты на общую сумму этих транзакций и получать информацию о транзакциях, которые превышают указанные лимиты. Сервис поддерживает работу с различными валютами.

# API Документация

## 1. Работа с транзакциями

### 1.1 Создание транзакции
- **Метод**: `POST`
- **URL**: `/api/v1/transaction`
- **Описание**: Создает новую транзакцию.

### 1.2 Получение транзакций по категории
- **Метод**: `GET`
- **URL**: `/api/v1/transactions/{category}`
- **Описание**: Возвращает список транзакций, отфильтрованных по указанной категории.
- Параметры:
- `category`: Название категории транзакций.

### 1.3 Получение транзакций по валюте
- **Метод**: `GET`
- **URL**: `/api/v1/transactions/currency/{currency}`
- **Описание**: Возвращает список транзакций, отфильтрованных по указанной валюте.
- Параметры:
- `currency`: Код валюты (например, `USD`, `EUR`).

## 2. Клиентский API для работы с лимитами

### 2.1 Установка лимита
- **Метод**: `POST`
- **URL**: `/api/v1/set_limit`
- **Описание**: Устанавливает месячный лимит на общую сумму транзакций.

### 2.2 Получение лимитов
- **Метод**: `GET`
- **URL**: `/api/v1/limits`
- **Описание**: Возвращает текущие установленные лимиты для пользователя.

### 2.3 Получение транзакций, превышающих лимит
- **Метод**: `GET`
- **URL**: `/api/v1/transactions/limit_exceeded`
- **Описание**: Возвращает список транзакций, которые превышают установленные лимиты.

## Шаги по запуску сервиса

1. **Клонирование репозитория**:
   ```bash
   git clone https://github.com/4Ilyas4/BankService.git
   ```

2. **Регистрация и получение API-ключа**:
   - Перейдите на [twelvedata.com](https://twelvedata.com) и зарегистрируйтесь, чтобы получить API-ключ.

3. **Замена API-ключа**:
   - Найдите файл `RateService` в проекте и замените значение поля `API_KEY` на ваш новый ключ.

4. **Сборка и запуск проекта**:
   - Перейдите в корневую директорию проекта и выполните следующую команду для сборки и запуска приложения:
   ```bash
   ./mvnw spring-boot:run
   ```

# Документация по запуску и использованию Docker

## Установка Docker

Перед тем как использовать Docker, необходимо установить его на вашем компьютере.

### Шаги для установки Docker

1. **Скачайте Docker**:
   - Перейдите на официальный сайт [Docker](https://www.docker.com/products/docker-desktop) и скачайте Docker Desktop для вашей операционной системы (Windows, macOS, Linux).

2. **Установите Docker**:
   - Следуйте инструкциям по установке, предоставленным на сайте. В процессе установки могут понадобиться права администратора.

3. **Проверьте установку**:
   - После установки откройте терминал (или командную строку) и введите следующую команду, чтобы убедиться, что Docker установлен правильно:
   ```bash
   docker --version
   ```

## Dockerfile

Ваша директория проекта содержит следующий `Dockerfile`, расположенный в папке `demo` рядом с файлом `pom.xml`:

```dockerfile
FROM openjdk:21-jdk-alpine
WORKDIR /app
COPY target/*.jar /app/app.jar
EXPOSE 8080
ENTRYPOINT ["java", "-jar", "app.jar"]
```

### Описание Dockerfile

- **FROM openjdk:21-jdk-alpine**: Использует образ OpenJDK 21 на основе Alpine Linux для легковесного контейнера.
- **WORKDIR /app**: Устанавливает рабочую директорию контейнера на `/app`.
- **COPY target/*.jar /app/app.jar**: Копирует собранный JAR-файл из папки `target` в рабочую директорию контейнера.
- **EXPOSE 8080**: Открывает порт 8080 для доступа к вашему приложению.
- **ENTRYPOINT ["java", "-jar", "app.jar"]**: Определяет команду, которая будет выполнена при запуске контейнера.

## Запуск Docker-файла

### Шаги по сборке и запуску контейнера

1. **Сборка проекта**:
   Убедитесь, что вы собрали проект с помощью Maven, чтобы JAR-файл был создан в папке `target`. Для этого выполните следующую команду в корневой директории вашего проекта:
   ```bash
   ./mvnw clean package
   ```

2. **Сборка Docker-образа**:
   Перейдите в папку `demo`, где находится ваш `Dockerfile`, и выполните следующую команду для сборки Docker-образа:
   ```bash
   docker build -t bankservice .
   ```

3. **Запуск контейнера**:
   После успешной сборки образа, запустите контейнер с помощью следующей команды:
   ```bash
   docker run -p 8080:8080 bankservice
   ```

   Эта команда связывает порт 8080 контейнера с портом 8080 вашей локальной машины.

4. **Проверка работы приложения**:
   Откройте браузер или используйте инструмент для работы с API, чтобы отправить запросы к вашему приложению, используя любой запрос 
